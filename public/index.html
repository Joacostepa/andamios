<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador de Andamios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center text-primary mb-4">Cotizador de Andamios</h1>
        <form id="cotizador-form" class="border p-4 bg-light rounded">
            <h2 class="mb-4">Productos destacados</h2>

            <!-- Productos -->
            <div class="row mb-3">
                <div class="col-md-8">
                    <label for="modulo-andamio" class="form-label">Módulo de Andamio (1.30x2.50x1.80)</label>
                </div>
                <div class="col-md-4">
                    <input type="number" id="modulo-andamio" class="form-control" placeholder="Cantidad" min="0">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-8">
                    <label for="tablon" class="form-label">Tablón (2.50x0.30)</label>
                </div>
                <div class="col-md-4">
                    <input type="number" id="tablon" class="form-control" placeholder="Cantidad" min="0">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-8">
                    <label for="ruedas" class="form-label">Juego de Ruedas (x4)</label>
                </div>
                <div class="col-md-4">
                    <input type="number" id="ruedas" class="form-control" placeholder="Cantidad" min="0">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-8">
                    <label for="modulo-baranda" class="form-label">Módulo Baranda (1.30x2.50x1.00)</label>
                </div>
                <div class="col-md-4">
                    <input type="number" id="modulo-baranda" class="form-control" placeholder="Cantidad" min="0">
                </div>
            </div>

            <!-- Período de alquiler -->
            <div class="mb-3">
                <label for="duracion" class="form-label">Duración del alquiler:</label>
                <select id="duracion" class="form-select" required>
                    <option value="5">5 días</option>
                    <option value="10">10 días</option>
                    <option value="15">15 días</option>
                    <option value="20">20 días</option>
                    <option value="30">30 días</option>
                </select>
            </div>

            <!-- Opciones de envío -->
            <div class="mb-3">
                <label for="envio" class="form-label">Forma de entrega:</label>
                <select id="envio" class="form-select" required>
                    <option value="retiro">Retiro en local (sin costo)</option>
                    <option value="envio">Envío a domicilio</option>
                </select>
            </div>

            <div class="mb-3" id="localidad-container" style="display: none;">
                <label for="zona" class="form-label">Localidad:</label>
                <input type="text" id="zona" class="form-control" placeholder="Escribe tu localidad..." list="localidades">
                <datalist id="localidades">
                    <option value="AGRONOMÍA">
                    <option value="ALMAGRO">
                    <option value="AVELLANEDA">
                    <option value="BALVANERA">
                    <option value="BANFIELD">
                    <option value="BARRACAS">
                    <option value="BARRIO NORTE">
                    <option value="BELGRANO C">
                    <option value="BELGRANO R">
                    <option value="BENAVIDEZ">
                    <option value="BERAZATEGUI">
                    <option value="BOEDO">
                    <option value="BOULOGNE">
                    <option value="BURZACO">
                    <option value="CABALLITO">
                    <option value="CASEROS">
                    <option value="CHACARITA">
                    <option value="CIUDADELA">
                    <option value="COGHLAN">
                    <option value="COLEGIALES">
                    <option value="CONSTITUCIÓN">
                    <option value="DOCK SUD">
                    <option value="DON TORCUATO">
                    <option value="ESCOBAR">
                    <option value="EZEIZA">
                    <option value="FLORES">
                    <option value="FLORESTA">
                    <option value="FLORIDA">
                    <option value="GARIN">
                    <option value="HURLINGHAM">
                    <option value="INGENIERO BUDGE">
                    <option value="ITUZAINGO">
                    <option value="JOSE C. PAZ">
                    <option value="JOSE L. SUAREZ">
                    <option value="LA BOCA">
                    <option value="LA LUCILA">
                    <option value="LA TABLADA">
                    <option value="LANUS">
                    <option value="LAS CAÑITAS">
                    <option value="LINIERS">
                    <option value="LOMAS DE ZAMORA">
                    <option value="LONGCHAMPS">
                    <option value="MARTINEZ">
                    <option value="MASCHWITZ">
                    <option value="MATADEROS">
                    <option value="MONSERRAT">
                    <option value="MONTE CASTRO">
                    <option value="MUNRO">
                    <option value="NORDELTA">
                    <option value="NUEVA POMPEYA">
                    <option value="NUÑEZ">
                    <option value="OLIVOS">
                    <option value="PACHECO">
                    <option value="PALERMO">
                    <option value="PARQUE AVELLANEDA">
                    <option value="PARQUE CHACABUCO">
                    <option value="PARQUE CHAS">
                    <option value="PARQUE PATRICIOS">
                    <option value="PATERNAL">
                    <option value="PILAR">
                    <option value="PUERTO MADERO">
                    <option value="QUILMES">
                    <option value="RAMOS MEJIA">
                    <option value="RECOLETA">
                    <option value="RETIRO">
                    <option value="SAAVEDRA">
                    <option value="SAN CRISTOBAL">
                    <option value="SAN FERNANDO">
                    <option value="SAN ISIDRO">
                    <option value="SAN MARTIN">
                    <option value="SAN NICOLAS">
                    <option value="SAN TELMO">
                    <option value="SANTOS LUGARES">
                    <option value="SARANDI">
                    <option value="TIGRE">
                    <option value="VALENTIN ALSINA">
                    <option value="VELEZ SARSFIELD">
                    <option value="VERSALLES">
                    <option value="VICENTE LOPEZ">
                    <option value="VILLA ADELINA">
                    <option value="VILLA CRESPO">
                    <option value="VILLA DEL PARQUE">
                    <option value="VILLA DEVOTO">
                    <option value="VILLA FIORITO">
                    <option value="VILLA LUGANO">
                    <option value="VILLA LURO">
                    <option value="VILLA LYNCH">
                    <option value="VILLA MADERO">
                    <option value="VILLA MARTELLI">
                    <option value="VILLA MITRE">
                    <option value="VILLA ORTÚZAR">
                    <option value="VILLA PUEYRREDON">
                    <option value="VILLA REAL">
                    <option value="VILLA RIACHUELO">
                    <option value="VILLA SANTA RITA">
                    <option value="VILLA SOLDATI">
                    <option value="VILLA URQUIZA">
                </datalist>
                
            </div>

            <!-- Costo total -->
            <div class="mb-3">
                <h3 class="text-center">Costo total: <span id="total" class="text-success">$0</span></h3>
            </div>

            <div id="vista-previa" class="border p-3 mb-3 bg-light rounded">
                <h4 class="text-center">Vista previa de la cotización</h4>
                <ul id="detalle-productos" class="list-unstyled"></ul>
                <p class="text-end fw-bold">Total provisional: <span id="total-previo" class="text-success">$0</span></p>
            </div>
            


            <button type="submit" class="btn btn-primary w-100 mb-2">Calcular Cotización</button>
            <button type="button" id="borrar-cotizacion" class="btn btn-secondary w-100">Borrar Cotización</button>

        </form>
    </div>

    <script>
        // Precios por producto y duración
        const precios = {
            "modulo-andamio": { 5: 10250, 10: 11500, 15: 11500, 20: 12250, 30: 12750 },
            "tablon": { 5: 8250, 10: 10250, 15: 10250, 20: 11500, 30: 11500 },
            "ruedas": { 5: 24250, 10: 25750, 15: 31000, 20: 33000, 30: 36500 },
            "modulo-baranda": { 5: 10250, 10: 11500, 15: 11500, 20: 12250, 30: 12750 }
        };
    
        // Costos de envío por localidad
        const costosEnvio = {
            "AGRONOMÍA": 43250,
            "ALMAGRO": 45250,
            "AVELLANEDA": 86750,
            "BALVANERA": 55500,
            "BANFIELD": 102000,
            "BARRACAS": 64750,
            "BARRIO NORTE": 64750,
            "BELGRANO C": 51750,
            "BELGRANO R": 49250,
            "BENAVIDEZ": 196250,
            "BERAZATEGUI": 219500,
            "BOEDO": 58750,
            "BOULOGNE": 136500,
            "BURZACO": 120750,
            "CABALLITO": 49250,
            "CASEROS": 86750,
            "CHACARITA": 43250,
            "CIUDADELA": 86750,
            "COGHLAN": 51750,
            "COLEGIALES": 55500,
            "CONSTITUCIÓN": 64750,
            "DOCK SUD": 239500,
            "DON TORCUATO": 134500,
            "ESCOBAR": 162750,
            "EZEIZA": 264750,
            "FLORES": 55500,
            "FLORESTA": 55500,
            "FLORIDA": 86750,
            "GARIN": 171250,
            "HURLINGHAM": 171250,
            "INGENIERO BUDGE": 86750,
            "ITUZAINGO": 171250,
            "JOSE C. PAZ": 171250,
            "JOSE L. SUAREZ": 131750,
            "LA BOCA": 64750,
            "LA LUCILA": 91500,
            "LA TABLADA": 86750,
            "LANUS": 137000,
            "LAS CAÑITAS": 55500,
            "LINIERS": 62750,
            "LOMAS DE ZAMORA": 102000,
            "LONGCHAMPS": 171250,
            "MARTINEZ": 111500,
            "MASCHWITZ": 171250,
            "MATADEROS": 64750,
            "MONSERRAT": 64750,
            "MONTE CASTRO": 52750,
            "MUNRO": 91750,
            "NORDELTA": 151000,
            "NUEVA POMPEYA": 64750,
            "NUÑEZ": 59750,
            "OLIVOS": 89500,
            "PACHECO": 162750,
            "PALERMO": 55500,
            "PARQUE AVELLANEDA": 64750,
            "PARQUE CHACABUCO": 51750,
            "PARQUE CHAS": 49250,
            "PARQUE PATRICIOS": 64750,
            "PATERNAL": 41750,
            "PILAR": 216250,
            "PUERTO MADERO": 74250,
            "QUILMES": 137000,
            "RAMOS MEJIA": 117500,
            "RECOLETA": 74250,
            "RETIRO": 74250,
            "SAAVEDRA": 64750,
            "SAN CRISTOBAL": 64750,
            "SAN FERNANDO": 137000,
            "SAN ISIDRO": 104250,
            "SAN MARTIN": 98000,
            "SAN NICOLAS": 64750,
            "SAN TELMO": 68000,
            "SANTOS LUGARES": 113750,
            "SARANDI": 119250,
            "TIGRE": 153500,
            "VALENTIN ALSINA": 98000,
            "VELEZ SARSFIELD": 62750,
            "VERSALLES": 52750,
            "VICENTE LOPEZ": 89500,
            "VILLA ADELINA": 102000,
            "VILLA CRESPO": 45250,
            "VILLA DEL PARQUE": 45250,
            "VILLA DEVOTO": 51750,
            "VILLA FIORITO": 86750,
            "VILLA LUGANO": 68000,
            "VILLA LURO": 52750,
            "VILLA LYNCH": 98000,
            "VILLA MADERO": 86750,
            "VILLA MARTELLI": 78000,
            "VILLA MITRE": 43250,
            "VILLA ORTÚZAR": 49250,
            "VILLA PUEYRREDON": 43250,
            "VILLA REAL": 43250,
            "VILLA RIACHUELO": 58750,
            "VILLA SANTA RITA": 43250,
            "VILLA SOLDATI": 61500,
            "VILLA URQUIZA": 43250
        };
    
        const form = document.getElementById("cotizador-form");
        const envio = document.getElementById("envio");
        const localidadContainer = document.getElementById("localidad-container");
        const totalElement = document.getElementById("total");
        const detalleProductos = document.getElementById("detalle-productos");
        const totalPrevioElement = document.getElementById("total-previo");
    
        // Mostrar u ocultar la selección de localidad según la opción de entrega
        envio.addEventListener("change", () => {
            localidadContainer.style.display = envio.value === "envio" ? "block" : "none";
        });
    
        // Función para actualizar la vista previa
        const actualizarVistaPrevia = () => {
            const duracion = document.getElementById("duracion").value;
            let totalPrevio = 0;
    
            // Limpiar la lista de productos
            detalleProductos.innerHTML = "";
    
            // Iterar sobre los productos y agregar los seleccionados
            for (const [producto, valores] of Object.entries(precios)) {
                const cantidad = document.getElementById(producto)?.value || 0;
    
                if (cantidad > 0) {
                    const subtotal = cantidad * valores[duracion];
                    totalPrevio += subtotal;
    
                    // Agregar producto a la vista previa
                    const item = document.createElement("li");
                    item.textContent = `${cantidad} x ${producto.replace("-", " ")}: $${subtotal}`;
                    detalleProductos.appendChild(item);
                }
            }
    
            // Agregar el costo de envío si corresponde
            const zona = document.getElementById("zona").value.toUpperCase();
            if (envio.value === "envio" && costosEnvio[zona]) {
                totalPrevio += costosEnvio[zona];
    
                const envioItem = document.createElement("li");
                envioItem.textContent = `Envío a ${zona}: $${costosEnvio[zona]}`;
                detalleProductos.appendChild(envioItem);
            }
    
            // Actualizar el total provisional
            totalPrevioElement.textContent = `$${totalPrevio}`;
        };
    
        // Actualizar la vista previa dinámicamente
        form.addEventListener("input", actualizarVistaPrevia);
    
        // Resetear todo al borrar cotización
        const borrarCotizacion = document.getElementById("borrar-cotizacion");
        borrarCotizacion.addEventListener("click", () => {
            form.reset();
            localidadContainer.style.display = "none";
            totalElement.textContent = "$0";
            totalPrevioElement.textContent = "$0";
            detalleProductos.innerHTML = "";
        });
    </script>
    
    
    
</body>
</html>
